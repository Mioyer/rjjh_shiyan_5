<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>环保用户互动 - 智能环保系统</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Font Awesome 图标库 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* 社区页面特定样式 */
        .tab-container {
            margin-bottom: 30px;
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .tab:hover {
            background-color: #f8f9fa;
        }
        
        .tab.active {
            border-bottom-color: #2e8b57;
            font-weight: bold;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* 积分商城样式 */
        .point-rules {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .rule-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .rule-icon {
            width: 40px;
            height: 40px;
            background-color: #2e8b57;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }
        
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .product-card {
            border: 1px solid #eee;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .product-image {
            height: 180px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .product-image i {
            font-size: 3rem;
            color: #2e8b57;
        }
        
        .product-info {
            padding: 15px;
        }
        
        .product-title {
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .product-points {
            color: #f57c00;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
        }
        
        .product-description {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 15px;
        }
        
        .leaderboard {
            width: 100%;
            margin-bottom: 30px;
        }
        
        .leaderboard th, .leaderboard td {
            text-align: center;
        }
        
        .rank-1 {
            background-color: #ffd700;
            color: #333;
        }
        
        .rank-2 {
            background-color: #c0c0c0;
            color: #333;
        }
        
        .rank-3 {
            background-color: #cd7f32;
            color: #333;
        }
        
        /* 环保举报系统样式 */
        .report-form {
            margin-bottom: 30px;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .location-map {
            height: 300px;
            background-color: #f0f0f0;
            border-radius: 8px;
            margin-bottom: 20px;
            position: relative;
        }
        
        .upload-preview {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .preview-item {
            width: 100px;
            height: 100px;
            border-radius: 4px;
            background-color: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .preview-item i {
            font-size: 2rem;
            color: #aaa;
        }
        
        .preview-item .remove-btn {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background-color: #dc3545;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            cursor: pointer;
        }
        
        .timeline {
            position: relative;
            margin: 20px 0;
            padding-left: 30px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 10px;
            width: 2px;
            background-color: #2e8b57;
        }
        
        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }
        
        .timeline-dot {
            position: absolute;
            left: -30px;
            top: 0;
            width: 20px;
            height: 20px;
            background-color: #2e8b57;
            border-radius: 50%;
        }
        
        .timeline-content {
            background-color: #fff;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .timeline-date {
            font-size: 0.8rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        .timeline-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .timeline-description {
            font-size: 0.9rem;
        }
        
        /* 环保社区样式 */
        .post-list {
            margin-bottom: 30px;
        }
        
        .post-item {
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .post-header {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .post-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #2e8b57;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
        }
        
        .post-author {
            font-weight: bold;
        }
        
        .post-time {
            font-size: 0.8rem;
            color: #666;
            margin-left: auto;
        }
        
        .post-content {
            padding: 15px;
        }
        
        .post-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .post-text {
            margin-bottom: 15px;
        }
        
        .post-footer {
            display: flex;
            padding: 10px 15px;
            border-top: 1px solid #eee;
            background-color: #f9f9f9;
        }
        
        .post-stats {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .post-stat {
            display: flex;
            align-items: center;
            color: #666;
            cursor: pointer;
        }
        
        .post-stat i {
            margin-right: 5px;
        }
        
        .post-stat:hover {
            color: #2e8b57;
        }
        
        .expert-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background-color: #2e8b57;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .expert-btn:hover {
            transform: scale(1.1);
        }
        
        .expert-btn i {
            font-size: 1.5rem;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 10px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- 顶部导航栏 -->
    <nav class="navbar">
        <a href="index.html" class="logo">
            <i class="fas fa-leaf"></i>
            <span>SmartEco</span>
        </a>
        
        <div class="search-box">
            <input type="text" placeholder="搜索社区内容（如：环保活动、分享）">
            <button type="button">
                <i class="fas fa-search"></i>
            </button>
        </div>
        
        <div class="user-actions">
            <div class="user-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="dropdown-menu">
                <a href="auth.html">登录/注册</a>
                <a href="#">个人中心</a>
                <a href="#">退出</a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <h1>环保用户互动</h1>
        <p>参与环保活动，获取积分奖励，共建绿色社区</p>
        
        <!-- 选项卡切换 -->
        <div class="tab-container">
            <div class="tabs">
                <div class="tab active" data-tab="shop">积分商城</div>
                <div class="tab" data-tab="report">环保举报</div>
                <div class="tab" data-tab="community">环保社区</div>
            </div>
            
            <!-- 积分商城内容 -->
            <div id="shop" class="tab-content active">
                <h2>我的积分: <span id="user-points">550</span> 分</h2>
                
                <!-- 积分规则说明 -->
                <div class="card">
                    <div class="card-header">积分规则说明</div>
                    <div class="card-body">
                        <div class="point-rules">
                            <div class="rule-item">
                                <div class="rule-icon"><i class="fas fa-recycle"></i></div>
                                <div class="rule-content">
                                    <strong>垃圾分类正确</strong> +10分/次
                                </div>
                            </div>
                            <div class="rule-item">
                                <div class="rule-icon"><i class="fas fa-exclamation-triangle"></i></div>
                                <div class="rule-content">
                                    <strong>举报污染</strong> +50分/次
                                </div>
                            </div>
                            <div class="rule-item">
                                <div class="rule-icon"><i class="fas fa-share-alt"></i></div>
                                <div class="rule-content">
                                    <strong>分享环保知识</strong> +30分/次
                                </div>
                            </div>
                            <div class="rule-item">
                                <div class="rule-icon"><i class="fas fa-comment"></i></div>
                                <div class="rule-content">
                                    <strong>社区互动</strong> +5分/次
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 商品展示 -->
                <h3>兑换商品</h3>
                <div class="products-grid">
                    <div class="product-card">
                        <div class="product-image">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">环保购物袋</div>
                            <div class="product-points">100分</div>
                            <div class="product-description">可折叠便携环保购物袋，减少塑料使用</div>
                            <button class="btn" onclick="exchangeProduct('环保购物袋', 100)">立即兑换</button>
                        </div>
                    </div>
                    
                    <div class="product-card">
                        <div class="product-image">
                            <i class="fas fa-tree"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">植树证书</div>
                            <div class="product-points">200分</div>
                            <div class="product-description">我们将以您的名义种植一棵树，并颁发电子证书</div>
                            <button class="btn" onclick="exchangeProduct('植树证书', 200)">立即兑换</button>
                        </div>
                    </div>
                    
                    <div class="product-card">
                        <div class="product-image">
                            <i class="fas fa-tshirt"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">环保T恤</div>
                            <div class="product-points">500分</div>
                            <div class="product-description">由可回收材料制成的环保T恤，展示您的环保态度</div>
                            <button class="btn" onclick="exchangeProduct('环保T恤', 500)">立即兑换</button>
                        </div>
                    </div>
                    
                    <div class="product-card">
                        <div class="product-image">
                            <i class="fas fa-donate"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">绿色公益基金</div>
                            <div class="product-points">300分</div>
                            <div class="product-description">捐赠积分到环保公益项目，共建绿色未来</div>
                            <button class="btn" onclick="exchangeProduct('绿色公益基金', 300)">立即兑换</button>
                        </div>
                    </div>
                </div>
                
                <!-- 排行榜 -->
                <h3>环保积分排行榜</h3>
                <div class="table-responsive">
                    <table class="leaderboard">
                        <thead>
                            <tr>
                                <th>排名</th>
                                <th>用户名</th>
                                <th>积分</th>
                                <th>环保级别</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="rank-1">
                                <td>1</td>
                                <td>GreenUser</td>
                                <td>850</td>
                                <td>环保大使</td>
                            </tr>
                            <tr class="rank-2">
                                <td>2</td>
                                <td>EcoFriend</td>
                                <td>720</td>
                                <td>环保先锋</td>
                            </tr>
                            <tr class="rank-3">
                                <td>3</td>
                                <td>EarthLover</td>
                                <td>690</td>
                                <td>环保先锋</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>你</td>
                                <td>550</td>
                                <td>环保达人</td>
                            </tr>
                            <tr>
                                <td>5</td>
                                <td>GreenLife</td>
                                <td>520</td>
                                <td>环保达人</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            
            <!-- 环保举报系统内容 -->
            <div id="report" class="tab-content">
                <h2>环保举报系统</h2>
                <p>发现环境问题？请填写下方表单进行举报，我们将及时跟进处理</p>
                
                <!-- 举报表单 -->
                <div class="card">
                    <div class="card-header">举报表单</div>
                    <div class="card-body">
                        <div class="report-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="report-type">污染类型</label>
                                    <select id="report-type" class="form-control">
                                        <option value="">请选择污染类型</option>
                                        <option value="water">工业废水</option>
                                        <option value="air">空气污染</option>
                                        <option value="noise">噪音污染</option>
                                        <option value="garbage">垃圾污染</option>
                                        <option value="other">其他</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="report-severity">严重程度</label>
                                    <select id="report-severity" class="form-control">
                                        <option value="">请选择严重程度</option>
                                        <option value="low">轻微</option>
                                        <option value="medium">中度</option>
                                        <option value="high">严重</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="report-location">地点</label>
                                <input type="text" id="report-location" class="form-control" placeholder="请输入详细地址">
                            </div>
                            
                            <div class="form-group">
                                <label>选择地点（点击地图选择位置）</label>
                                <div class="location-map">
                                    <div class="placeholder-text">地图加载中，请点击选择位置...</div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="report-description">详细描述</label>
                                <textarea id="report-description" class="form-control" rows="5" placeholder="请详细描述您发现的环境问题..."></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>证据上传（图片/视频）</label>
                                <input type="file" id="report-evidence" class="form-control" multiple accept="image/*,video/*">
                                <div class="upload-preview">
                                    <div class="preview-item">
                                        <i class="fas fa-plus"></i>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label>联系方式（选填，用于反馈）</label>
                                <input type="text" id="report-contact" class="form-control" placeholder="请输入您的电话或邮箱">
                            </div>
                            
                            <div style="text-align: center; margin-top: 20px;">
                                <button class="btn" onclick="submitReport()">
                                    <i class="fas fa-paper-plane"></i> 提交举报
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 进度追踪 -->
                <h3>我的举报进度</h3>
                <div class="card">
                    <div class="card-header">举报处理进度</div>
                    <div class="card-body">
                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <div class="timeline-date">2025-05-10 14:30</div>
                                    <div class="timeline-title">已受理</div>
                                    <div class="timeline-description">您的举报已收到，正在进行初步审核</div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <div class="timeline-date">2025-05-11 09:00</div>
                                    <div class="timeline-title">处理中</div>
                                    <div class="timeline-description">已派遣工作人员前往现场调查</div>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-dot"></div>
                                <div class="timeline-content">
                                    <div class="timeline-date">2025-05-11 16:45</div>
                                    <div class="timeline-title">问题确认</div>
                                    <div class="timeline-description">已确认存在噪音污染问题，正在制定处理方案</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 环保社区内容 -->
            <div id="community" class="tab-content">
                <h2>环保社区</h2>
                <p>分享环保经验，交流环保知识，共建绿色生活圈</p>
                
                <!-- 发帖按钮 -->
                <div style="text-align: right; margin-bottom: 20px;">
                    <button class="btn" onclick="showPostForm()">
                        <i class="fas fa-edit"></i> 发表新帖
                    </button>
                </div>
                
                <!-- 发帖表单 -->
                <div id="post-form" class="card" style="display: none; margin-bottom: 20px;">
                    <div class="card-header">发表新帖</div>
                    <div class="card-body">
                        <div class="form-group">
                            <label for="post-title">标题</label>
                            <input type="text" id="post-title" class="form-control" placeholder="请输入标题...">
                        </div>
                        <div class="form-group">
                            <label for="post-content">内容</label>
                            <textarea id="post-content" class="form-control" rows="5" placeholder="分享您的环保经验或知识..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>添加标签</label>
                            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <span class="btn btn-secondary" onclick="toggleTag(this)">垃圾分类</span>
                                <span class="btn btn-secondary" onclick="toggleTag(this)">节能减排</span>
                                <span class="btn btn-secondary" onclick="toggleTag(this)">环保科技</span>
                                <span class="btn btn-secondary" onclick="toggleTag(this)">绿色生活</span>
                                <span class="btn btn-secondary" onclick="toggleTag(this)">环保活动</span>
                            </div>
                        </div>
                        <div style="text-align: right; margin-top: 20px;">
                            <button class="btn btn-secondary" onclick="cancelPost()">取消</button>
                            <button class="btn" onclick="submitPost()">发布</button>
                        </div>
                    </div>
                </div>
                
                <!-- 帖子列表 -->
                <div class="post-list">
                    <div class="post-item">
                        <div class="post-header">
                            <div class="post-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="post-author">EcoFriend</div>
                            <div class="post-time">2025-05-12 15:30</div>
                        </div>
                        <div class="post-content">
                            <div class="post-title">如何减少塑料使用？</div>
                            <div class="post-text">
                                日常生活中可以通过以下方式减少塑料使用：
                                <br>1. 自带购物袋，拒绝塑料袋
                                <br>2. 使用可重复使用的水杯，减少瓶装水消费
                                <br>3. 选择无塑料包装的商品
                                <br>4. 使用竹制或金属吸管代替塑料吸管
                                <br><br>大家还有什么好的建议吗？
                            </div>
                        </div>
                        <div class="post-footer">
                            <div class="post-stats">
                                <div class="post-stat" onclick="likePost(this)">
                                    <i class="far fa-thumbs-up"></i> 28
                                </div>
                                <div class="post-stat" onclick="showComments(this)">
                                    <i class="far fa-comment"></i> 15
                                </div>
                                <div class="post-stat" onclick="sharePost()">
                                    <i class="far fa-share-square"></i> 分享
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="post-item">
                        <div class="post-header">
                            <div class="post-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="post-author">GreenUser</div>
                            <div class="post-time">2025-05-11 10:15</div>
                        </div>
                        <div class="post-content">
                            <div class="post-title">推荐一个家庭节能小技巧</div>
                            <div class="post-text">
                                最近发现一个简单有效的节能技巧：将冰箱温度调高1度（比如从4度调到5度），就能减少约5%的能耗。
                                <br><br>这个调整对食物保鲜几乎没有影响，但长期来看能明显减少电费支出和碳排放。
                                <br><br>另外，不要将热食直接放入冰箱，应先冷却至室温再存放，这样也能减少能源消耗。
                            </div>
                        </div>
                        <div class="post-footer">
                            <div class="post-stats">
                                <div class="post-stat" onclick="likePost(this)">
                                    <i class="far fa-thumbs-up"></i> 42
                                </div>
                                <div class="post-stat" onclick="showComments(this)">
                                    <i class="far fa-comment"></i> 8
                                </div>
                                <div class="post-stat" onclick="sharePost()">
                                    <i class="far fa-share-square"></i> 分享
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 加载更多按钮 -->
                <div style="text-align: center; margin-bottom: 30px;">
                    <button class="btn btn-secondary" onclick="loadMorePosts()">
                        <i class="fas fa-sync"></i> 加载更多
                    </button>
                </div>
                
                <!-- 专家答疑按钮 -->
                <div class="expert-btn" onclick="showExpertDialog()">
                    <i class="fas fa-question"></i>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 智能环保系统. 保留所有权利.</p>
        </div>
    </footer>
    
    <!-- JavaScript 文件 -->
    <script src="js/main.js"></script>
    <script>
        // 选项卡切换
        document.addEventListener('DOMContentLoaded', function() {
            // 获取URL hash以决定显示哪个标签
            const hash = window.location.hash.substring(1);
            if (hash) {
                showTab(hash);
            }
            
            // 绑定标签点击事件
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    showTab(tabId);
                    // 更新URL hash但不刷新页面
                    window.history.pushState(null, null, `#${tabId}`);
                });
            });
        });
        
        // 显示指定标签
        function showTab(tabId) {
            // 隐藏所有标签内容
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => {
                content.classList.remove('active');
            });
            
            // 移除所有标签的活动状态
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // 显示选中的标签和内容
            document.getElementById(tabId).classList.add('active');
            document.querySelector(`.tab[data-tab="${tabId}"]`).classList.add('active');
        }
        
        // 积分商城 - 兑换商品
        function exchangeProduct(name, points) {
            const userPoints = parseInt(document.getElementById('user-points').textContent);
            
            if (userPoints < points) {
                alert('积分不足，无法兑换该商品');
                return;
            }
            
            if (confirm(`确认使用 ${points} 积分兑换【${name}】吗？`)) {
                // 更新积分显示
                document.getElementById('user-points').textContent = userPoints - points;
                alert(`兑换成功！${name} 将在3-5个工作日内发放到您的账户`);
            }
        }
        
        // 环保举报 - 提交举报
        function submitReport() {
            const type = document.getElementById('report-type').value;
            const severity = document.getElementById('report-severity').value;
            const location = document.getElementById('report-location').value;
            const description = document.getElementById('report-description').value;
            
            if (!type || !severity || !location || !description) {
                alert('请填写完整的举报信息');
                return;
            }
            
            alert('您的举报已提交，我们将尽快处理！\n您将获得50积分奖励。');
            
            // 更新积分显示
            const userPoints = parseInt(document.getElementById('user-points').textContent);
            document.getElementById('user-points').textContent = userPoints + 50;
            
            // 清空表单
            document.getElementById('report-type').value = '';
            document.getElementById('report-severity').value = '';
            document.getElementById('report-location').value = '';
            document.getElementById('report-description').value = '';
            document.getElementById('report-contact').value = '';
            document.querySelector('.upload-preview').innerHTML = '<div class="preview-item"><i class="fas fa-plus"></i></div>';
        }
        
        // 环保社区 - 显示发帖表单
        function showPostForm() {
            document.getElementById('post-form').style.display = 'block';
        }
        
        // 环保社区 - 取消发帖
        function cancelPost() {
            document.getElementById('post-form').style.display = 'none';
        }
        
        // 环保社区 - 提交帖子
        function submitPost() {
            const title = document.getElementById('post-title').value;
            const content = document.getElementById('post-content').value;
            
            if (!title || !content) {
                alert('请填写标题和内容');
                return;
            }
            
            alert('帖子发布成功！\n您将获得30积分奖励。');
            
            // 更新积分显示
            const userPoints = parseInt(document.getElementById('user-points').textContent);
            document.getElementById('user-points').textContent = userPoints + 30;
            
            // 清空表单并隐藏
            document.getElementById('post-title').value = '';
            document.getElementById('post-content').value = '';
            document.getElementById('post-form').style.display = 'none';
            
            // 恢复所有标签的默认样式
            const tags = document.querySelectorAll('.btn-secondary');
            tags.forEach(tag => {
                tag.classList.remove('btn');
                tag.classList.add('btn-secondary');
            });
        }
        
        // 环保社区 - 切换标签选择
        function toggleTag(element) {
            element.classList.toggle('btn-secondary');
            element.classList.toggle('btn');
        }
        
        // 环保社区 - 点赞帖子
        function likePost(element) {
            const likeCount = parseInt(element.textContent.trim());
            element.innerHTML = `<i class="fas fa-thumbs-up"></i> ${likeCount + 1}`;
            element.style.color = '#2e8b57';
        }
        
        // 环保社区 - 显示评论
        function showComments(element) {
            alert('评论功能正在开发中，敬请期待！');
        }
        
        // 环保社区 - 分享帖子
        function sharePost() {
            alert('分享功能正在开发中，敬请期待！');
        }
        
        // 环保社区 - 加载更多帖子
        function loadMorePosts() {
            alert('加载更多功能正在开发中，敬请期待！');
        }
        
        // 环保社区 - 显示专家答疑对话框
        function showExpertDialog() {
            alert('专家答疑功能正在开发中，敬请期待！');
        }
    </script>
</body>
</html> 